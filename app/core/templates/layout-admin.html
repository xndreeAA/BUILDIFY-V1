<!DOCTYPE html>
<html lang="es">

<head>
    <!-- ==========================================================================
        METADATOS Y CONFIGURACIÓN
    ========================================================================== -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BUILDIFY - Panel de Administración</title>
    
    <!-- ==========================================================================
        HOJAS DE ESTILO
    ========================================================================== -->
    <!-- Estilos principales de la aplicación -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/layout/sideBar.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/layout/styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/layout/header.css') }}">
    
    <!-- Iconos de Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    
    <!-- Estilos específicos de cada página -->
    {% block styles %}{% endblock %}

    <!-- ==========================================================================
        SCRIPTS
    ========================================================================== -->
    <!-- jQuery para funcionalidades interactivas -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>

<body>
    <!-- ==========================================================================
        ENCABEZADO  (HEADER)
    ========================================================================== -->
    <div id="header">
        <div class="header-container">
            <img src="https://res.cloudinary.com/ds0nymhsf/image/upload/v1757617184/Logo_buildify_npppnt.png" alt="Logo de Buildify" class="logo">
        </div>
    </div>
    <!-- ==========================================================================
        CONTENEDOR DE NOTIFICACIONES
    ========================================================================== -->
    <div id="alert-container"></div>

    <!-- ==========================================================================
        ESTRUCTURA PRINCIPAL
    ========================================================================== -->
    <main id="main">
        <!-- -------------------------------------------------------------------
            BARRA LATERAL (SIDEBAR)
        ------------------------------------------------------------------- -->
        <aside id="aside">
            <div id="aside-container">
                <!-- Logo y nombre de usuario -->
                <div id="logo-container">
                    <i class="bi bi-bing"></i>
                    <h2><a href="{{ url_for('web_v1.admin.dashboard') }}">{{ current_user.nombre }}</a></h2>
                </div>
                
                <div class="separator"></div>

                <!-- Menú de navegación -->
                <ul class="admin-side-bar">
                    <!-- Dashboard y estadísticas -->
                    <li class="admin-side-bar-option">
                        <i class="bi bi-bar-chart-line"></i>
                        <div class="admin-link-container">
                            <a href="{{ url_for('web_v1.admin.dashboard') }}" class="admin-side-bar-link">
                                Estadísticas
                            </a>
                        </div>
                    </li>

                    <!-- Gestión de usuarios -->
                    <li class="admin-side-bar-option">
                        <i class="bi bi-person"></i>
                        <div class="admin-link-container">
                            <a href="{{ url_for('web_v1.admin.crud_usuarios') }}" class="admin-side-bar-link">
                                Gestión de usuarios
                            </a>
                        </div>
                    </li>
                    
                    <!-- Gestión de productos -->
                    <li class="admin-side-bar-option">
                        <i class="bi bi-laptop"></i>
                        <div class="admin-link-container">
                            <a href="{{ url_for('web_v1.productos.crud_productos') }}" class="admin-side-bar-link">
                                Gestión de productos
                            </a>
                        </div>
                    </li>
                    
                    <!-- Marcas aliadas -->
                    <li class="admin-side-bar-option">
                        <i class="bi bi-microsoft-teams"></i>
                        <div class="admin-link-container">
                            <a href="{{ url_for('web_v1.productos.crud_marcas') }}" class="admin-side-bar-link">
                                Marcas aliadas
                            </a>
                        </div>
                    </li>
                    
                    <!-- Categorías -->
                    <li class="admin-side-bar-option">
                        <i class="bi bi-card-checklist"></i>
                        <div class="admin-link-container">
                            <a href="{{ url_for('web_v1.productos.crud_categorias') }}" class="admin-side-bar-link">
                                Categorias
                            </a>
                        </div>
                    </li>
                    
                    <!-- Pedidos -->
                    <li class="admin-side-bar-option">
                        <i class="bi bi-coin"></i>
                        <div class="admin-link-container">
                            <a href="{{ url_for('web_v1.pedidos.listado_pedidos') }}" class="admin-side-bar-link">
                                Pedidos
                            </a>
                        </div>
                    </li>
                    
                    <!-- Configuración de contenido -->
                    <li class="admin-side-bar-option">
                        <i class="bi bi-image-alt"></i>
                        <div class="admin-link-container">
                            <a href="{{ url_for('web_v1.carrusel.crud_carrusel') }}" class="admin-side-bar-link">
                                Configuración de contenido
                            </a>
                        </div>
                    </li>
                    
                    <!-- Cerrar sesión -->
                    <li class="admin-side-bar-option">
                        <i class="bi bi-box-arrow-left"></i>
                        <div class="admin-link-container">
                            <a href="{{ url_for('web_v1.auth.logout') }}" class="admin-side-bar-link">
                                Cerrar sesión
                            </a>
                        </div>
                    </li>
                </ul>
            </div>
        </aside>

        <!-- -------------------------------------------------------------------
            CONTENIDO PRINCIPAL
        ------------------------------------------------------------------- -->
        <section id="content">
            {% block content %}{% endblock %}
        </section>
    </main>

    <!-- ==========================================================================
        PIE DE PÁGINA
    ========================================================================== -->
    <footer id="footer">
        <div class="footer-bottom">
            © 2025 Buildify. Todos los derechos reservados.
        </div>
    </footer>

    <!-- ==========================================================================
    SCRIPTS PERSONALIZADOS
    ========================================================================== -->
    {% block scripts %}{% endblock %}
    
    <!-- ==========================================================================
        FUNCIONALIDAD DE ALERTAS
    ========================================================================== -->
    <script>
        /**
         * Muestra una alerta temporal en la interfaz
         * @param {string} mensaje - Texto a mostrar en la alerta
         * @param {string} tipo - Tipo de alerta (info, success, warning, error)
         */
        function mostrarAlerta(mensaje, tipo = "info") {
            const container = document.getElementById("alert-container");
            
            // Crear elemento de alerta
            const alert = document.createElement("div");
            alert.className = `alert alert-${tipo}`;
            alert.innerHTML = `
                <span>${mensaje}</span>
                <button onclick="this.parentElement.remove()">×</button>
            `;
            
            // Agregar al contenedor
            container.appendChild(alert);
            
            // Eliminar automáticamente después de 5 segundos
            setTimeout(() => {
                if (alert.parentElement) {
                    alert.remove();
                }
            }, 5000);
        }
    </script>
</body>

</html>